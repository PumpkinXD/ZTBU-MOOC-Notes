### 第三章 网络体系结构

网络中的各个部分都必须遵守一套合理而严格的网络标准，这套网络标准就称之为网络体系结构。

本章主要讲解计算机网络体系结构的基本概念、开放式系统互联参考模型（OSI）和TCP/IP参考模型

#### 3.1 网络体系结构概述

为什么需要计算机网络体系结构

计算机网络是个复杂的系统，连接在网络上的任意两台计算机要进行传送数据都必须完成很多工作，比如：

（1）两台计算机之间必须有一条传送数据的通路；

（2）告诉网络怎样识别接受数据的计算机（未记完）

（未记完）



**网络体系结构**就是指为了实现计算机间的通信合作，把计算机互联的功能划分成有明确定义的层次，并规定<u>同层次实体通信的协议</u>及<u>相邻层之间的接口服务</u>。

简单地来说，网络体系结构就是网络各层及其（未记完）

##### 3.1.1 计算机网络体系结构设计基本思想

（1） 分层思想（分步？）

将复杂问题通过一定的方法转化为若干较小易处理的局部问题，然后在不同层次上予以解决。

例：邮政系统的信件传递过程

特点

优点：

（1）独立性强

上层仅仅需通过下层为上层提供的接口来使用下层所实现的服务，而不用了解下层的具体实现

（2）适应性强

（未记完）





##### 3.1.2 计算机网络体系结构定义

（1）基本概念

1）网络协议

在计算机网络中要做到有条不紊地交换数据，就必须遵守一些事先约定好的规则，这些为进行网络中的数据交换而建立的规则、标准或约定的集合称为网络协议，简称协议。网络协议主要由三个要素组成。

语法：规定用户数据与控制信息的结构与格式。 

语义：规定通信双方需要发出何种控制信息、完成何种动作（未记完）

同步：

2）接口

接口是相邻两层间交换信息的连接点，是一个系统内部的规定。每一层只能为紧邻的层次之间定义接口，不能跨层定义

3）服务

服务是由下层向上层通过层次接口提供（未记完）

4）（未记完）



计算机网络体系结构只（未记完）



#### 3.2 OSI参考模型

世界上第一个网络体系结构是IBM在1974年提出的系统网络体系SNA。

为了标准化 ISO提出了开放系统互联参考模型（OSI）

（未记完）

OSI从下到上分为：物理层、数据链路层、网络层、传输层、绘画层、表示层和应用层

低层（物理层，数据链路层）执行物理通信相关的功能，如构建帧，传输含有包的信号；

中间层（网络层、传输层、会话层）协调结点间的网络通信，如确保通信会话不中断、无差错地持续进行；

高层（表示层、应用层）的工作直接影响软件应用和数据表示，包括数据格式化、加密以及数据与文件传输管理。

OSI参考模型中，划分层（子模块）要遵循以下原则：

（1）各层（子模块）具有相对的独立性，保持层间交互的信息最少。

（2）单项调用：各层（子模块）只能引用其下层提供的服务。

（3）增值服务：在使用下层服务的基础上，各层完成特定的通信功能。

##### 3.2.1 物理层

（工作设备：集线器，中继器等）

物理层是OSI的最底层，其功能主要为通信提供物理链路，并在两个网络设备之间透明地传输比特流。其数据服务单元是比特bit，它可以通过同步或异步的方式进行传输；但物理层并不关心这些比特的实际意义与结构。

物理层为建立、维护和释放数据链路实体之间的（未记完）

机械特性：规定了物理连接时所使用可接插连接器的形状和尺寸，连接器中的引脚的数量与排列情况等。

电气特性：规定了物理连接上传输二进制比特流时线路上信号电平高低 、阻抗及阻抗匹配、传输速率与距离限制。（懒得记下面的废话）

功能特性：规定了物理接口上各条信号线的功能分配和确切定义。物理接口信号线一般分为数据线、控制线、定时线和地线。

规程特性：定义了信号线进行二进制比特流传输时的一组操作过程，包括各信号线的工作规则和时序

物理层（未记完）

##### 3.2.2 数据链路层

（1）数据链路层的定义

数据链路层是OSI的第二层，其作用是负责将物理层传来的数据封装成帧Frame，并保证帧在计算机之间进行无差错地传输。

数据链路层分为MAC和LLC两个子层。（由下向上介绍：）

1.MAC（介质访问控制）子层的功能包括数据帧的封装/拆封，帧的寻址和识别，帧的接受与发送，链路的管理，帧的差错控制等；

2.LLC（逻辑链路层控制）子层负责为上层提供服务，如从上层接受包并发送到MAC层。

工作在数据链路层的设备包括二层交换机、网桥等。此外，网卡既工作在物理层也工作在数据链路层，负责传输介质之间的物理链接，帧的发送与接收、封装与拆装等。

物理线路与数据链路的区别：

链路（link）描述的是一条点对点的线路段，这条线路段中间是没有任何交换结点的；因此链路一般指物理线路；当需要在一条链路上传送数据时，除了必须具有一条物理线路之外，还必须有一些规程或协议来控制数据的传输以保证数据的正确性（未记完）

（2）数据链路层的功能

1）提供链路管理

链路管理：指数据链路的建立、维持和释放

2）提供流量控制

3）提供差错处理

4）帧同步：指接收方应当能从来自物理层的比特流中准确地区分出帧的开始与结束的位置。

5）寻址：在多点连接的情况下，寻址保证每一帧都能传送到正确的目的结点。同时，接收方也应当能知道发送方是哪一个结点。

（3）PPP协议

在ISO标准集中，数据链路层采用了高级数据链路控制(HDLC)协议。但目前HDLC协议已经很少用了，对于点对点的链路，使用最广泛的是更为简单的点对点协议——PPP协议(point to point protocol)

PPP是面向字符类型的协议，具有处理错误检测、支持多个协议、允许在连接时协商IP地址、允许身份认证等功能。PPP由以下三部分组成：

1.将IP数据报封装到串行链路中的方法。PPP支持异步链路也支持面向比特的同步链路。

2.一个链路控制协议LCP，用来建立、配置和测试数据链路连接

3.一套网络控制协议NCP，其中的每一个协议支持不同的网络层协议



数据链路协议数据单元被称为帧，PPP帧的首部和尾部分别有四个字段和两个字段（未记完，图以后补）



标志字段F：在帧的首尾各有一个由固定比特序列“0B 01111110”组成的标志字段F。标志字段表示一个帧的开始或结束，因此标志字段就是帧的定界符。如果出现两个连续的标志字段，就表示是一个空帧应当丢弃

地址字段A：PPP中的帧的地址字段A规定为0XFF，这是一个广播地址

控制字段C：控制字段是帧的关键字段

（未记完）

